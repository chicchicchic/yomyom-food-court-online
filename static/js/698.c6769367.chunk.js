"use strict";(self.webpackChunkonline_food_court=self.webpackChunkonline_food_court||[]).push([[698],{38698:(e,a,r)=>{r.r(a),r.d(a,{default:()=>b});var t=r(85865),n=r(19252),s=r(63336),i=r(68903),o=r(11906),l=r(75151),c=r(65043),d=r(78662),m=r(77154),f=r(57133),h=r(86178),u=r.n(h),g=r(52991),x=r(1565),p=r(73216),v=r(83003),A=r(39020),j=r(75800),y=r(70579);const I=(0,l.A)({root:{flexGrow:1},avatarImage:{position:"relative",width:"200px",height:"200px",borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},avatar:{marginBottom:"1rem"},inputFile:{display:"none"},avatarBtn:{width:"200px",height:"200px",top:0,position:"absolute",background:"rgba(0,0,0,0.6)",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",opacity:0,transition:"0.6s",borderRadius:"50%","&:hover":{opacity:1}},userInfo:{display:"flex",flexDirection:"column",gap:"0.5rem"},userInfoItem:{display:"flex",alignItems:"center"}});const b=function(){const e=(0,d.L4)(),a=(0,d.Kn)();let r=null;a&&(r=a.sub);const l=(0,v.wA)(),h=(0,p.Zp)(),b=I(),[C,N]=(0,c.useState)(),k=(0,v.d4)((e=>e.user.avatar));(0,c.useEffect)((()=>{null===r&&""!==r||W(r)}),[r]);const W=async a=>{try{const r=await m.A.get("".concat(j.y,"/user/find-by-email"),{params:{email:a},headers:{Authorization:"Bearer ".concat(e)}});console.log("User Info: ",r.data),r.data&&(console.log("User Info: ",r.data),N(r.data))}catch(r){console.error("Error fetching User detail by email:",r)}};return(0,y.jsx)(y.Fragment,{children:C?(0,y.jsxs)(n.A,{maxWidth:!1,children:[(0,y.jsx)(s.A,{elevation:3,sx:{padding:3,marginBottom:3},children:(0,y.jsxs)(i.Ay,{container:!0,spacing:2,justifyContent:"center",alignItems:"center",children:[(0,y.jsxs)(i.Ay,{item:!0,xs:12,sm:6,md:6,lg:6,className:b.avatarImage,children:[k&&null!==k?(0,y.jsx)(f.Ay,{alt:C.firstName,src:"data:image/jpeg;base64, ".concat(k),size:"200",round:!0,className:b.avatar}):(0,y.jsx)(f.Ay,{name:"".concat(C.firstName," ").concat(C.lastName),size:"200",round:!0,className:b.avatar}),(0,y.jsxs)("div",{className:b.avatarBtn,children:[(0,y.jsx)("input",{id:"contained-button-file",className:b.inputFile,type:"file",accept:"image/*",onChange:async a=>{var t;const n=null===(t=a.target.files)||void 0===t?void 0:t[0];if(n){const a=new FormData;a.append("file",n),a.append("email",r);try{const r=await m.A.post("".concat(j.y,"/user/upload-avatar"),a,{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"multipart/form-data"}});r.data.avatar&&l((0,A.Gf)(r.data.avatar)),console.log("WOWWWWWWWW AVATAR CHANGED !!!")}catch(s){console.error("Error uploading avatar:",s)}}}}),(0,y.jsx)("label",{htmlFor:"contained-button-file",children:(0,y.jsx)(o.A,{variant:"outlined",sx:{color:"#ffffff",borderColor:"#ffffff","&:hover":{color:"#000000",borderColor:"#000000",backgroundColor:"#ffffff"}},component:"span",children:"Change Avatar"})})]})]}),(0,y.jsx)(i.Ay,{item:!0,xs:12,sm:6,md:6,lg:6,children:(0,y.jsxs)("div",{className:b.userInfo,children:[(0,y.jsx)("div",{className:b.userInfoItem,children:(0,y.jsx)(t.A,{sx:{fontSize:"2rem"},children:"".concat(C.firstName," ").concat(C.lastName)})}),(0,y.jsx)("div",{className:b.userInfoItem,children:(0,y.jsxs)(t.A,{children:["Phone: ",(e=>{if(e.length<6)return e;const a=e.slice(2,-2).replace(/./g,"*");return e.slice(0,2)+a+e.slice(-2)})(C.phone)]})}),(0,y.jsx)("div",{className:b.userInfoItem,children:(0,y.jsxs)(t.A,{children:["Date of Birth:"," ",u()(C.dateOfBirth||"N/A").format("MMMM Do YYYY")]})})]})})]})}),(0,y.jsx)(s.A,{elevation:3,sx:{padding:3,marginBottom:3},children:(0,y.jsxs)(i.Ay,{container:!0,spacing:2,justifyContent:"center",alignItems:"center",children:[(0,y.jsx)(i.Ay,{item:!0,xs:12,sm:6,md:6,lg:6,children:(0,y.jsxs)(o.A,{variant:"outlined",color:"primary",fullWidth:!0,onClick:()=>{C&&h("/order-tracking",{state:{userId:C.userId,userFirstName:C.firstName,userEmail:C.email,shippingAddress:"",shippingPhone:""}})},sx:{"&:hover":{backgroundColor:"primary.main",color:"white"}},children:[(0,y.jsx)(g.A,{fontSize:"large",sx:{marginRight:"1rem"}}),"Order Tracking"]})}),(0,y.jsx)(i.Ay,{item:!0,xs:12,sm:6,md:6,lg:6,children:(0,y.jsxs)(o.A,{variant:"outlined",color:"secondary",fullWidth:!0,onClick:()=>{return e="COMPLETED",void(C&&h("/detail-order-tracking",{state:{userId:C.userId,orderStatus:e}}));var e},sx:{"&:hover":{backgroundColor:"secondary.main",color:"white"}},children:[(0,y.jsx)(x.A,{fontSize:"large",sx:{marginRight:"1rem"}}),"History Purchases"]})})]})})]}):(0,y.jsx)(c.Fragment,{children:(0,y.jsx)(t.A,{variant:"h5",children:"Waiting for user information available!"})})})}},1565:(e,a,r)=>{var t=r(24994);a.A=void 0;var n=t(r(40039)),s=r(70579);a.A=(0,n.default)((0,s.jsx)("path",{d:"m6 2 .01 6L10 12l-3.99 4.01L6 22h12v-6l-4-4 4-3.99V2zm10 14.5V20H8v-3.5l4-4z"}),"HourglassTop")},52991:(e,a,r)=>{var t=r(24994);a.A=void 0;var n=t(r(40039)),s=r(70579);a.A=(0,n.default)((0,s.jsx)("path",{d:"M20 8h-3V4H3c-1.1 0-2 .9-2 2v11h2c0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5zM6 18.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m13.5-9 1.96 2.5H17V9.5zm-1.5 9c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5"}),"LocalShipping")}}]);
//# sourceMappingURL=698.c6769367.chunk.js.map