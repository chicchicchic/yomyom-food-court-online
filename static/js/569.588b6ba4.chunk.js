"use strict";(self.webpackChunkonline_food_court=self.webpackChunkonline_food_court||[]).push([[569],{88946:(e,n,r)=>{r.d(n,{A:()=>d});r(65043);var t=r(53193),a=r(69285),i=r(37970),o=r(59135),s=r(75151),c=r(70579);const l=(0,s.A)({paginationContainer:{marginTop:"2rem",display:"flex",justifyContent:"center",alignItems:"center"},dropdownRowPerPageLabel:{marginRight:"1rem"},dropdownRowPerPage:{marginRight:"3rem"}}),d=e=>{let{pagination:n,handleRowsPerPageChange:r,handlePageChange:s}=e;const d=l();return(0,c.jsxs)("div",{className:d.paginationContainer,children:[(0,c.jsx)(t.A,{className:d.dropdownRowPerPage,children:(0,c.jsxs)(a.A,{labelId:"rows-per-page-label",id:"rows-per-page",value:n.rowsPerPage,onChange:r,children:[(0,c.jsx)(i.A,{value:5,children:"5"}),(0,c.jsx)(i.A,{value:10,children:"10"}),(0,c.jsx)(i.A,{value:20,children:"20"})]})}),(0,c.jsx)(o.A,{count:n.totalPages,page:n.page,onChange:s,variant:"outlined",shape:"rounded"})]})}},30569:(e,n,r)=>{r.r(n),r.d(n,{default:()=>M});var t=r(65043),a=r(77154),i=r(73216),o=r(86178),s=r.n(o),c=r(19252),l=r(79650),d=r(71806),h=r(84882),g=r(28076),f=r(10039),x=r(73460),m=r(36591),p=r(11906),A=r(90035),u=r(26600),j=r(35316),y=r(29347),v=r(88946),C=r(63102),P=r(74192),w=r(78662),S=r(75800),z=r(70579);const M=function(){const e=(0,w.L4)(),[n,r]=(0,t.useState)([]),[o,M]=(0,t.useState)(!1),[R,b]=(0,t.useState)(!1),[k,I]=(0,t.useState)(null),[W,N]=(0,t.useState)({page:1,rowsPerPage:5,totalPages:1}),{id:B}=(0,i.g)(),{page:D,rowsPerPage:L}=W;(0,t.useEffect)((()=>{Y()}),[D,L]);const Y=async()=>{if(!o){M(!0);try{const n=await a.A.get("".concat(S.y,"/dish/trash?pageNumber=").concat(W.page-1,"&pageSize=").concat(W.rowsPerPage),{headers:{Authorization:"Bearer ".concat(e)}});console.log(n),r(n.data.content);const t=n.data.totalElements;console.log(t);const i=Math.ceil(t/W.rowsPerPage);N({...W,totalPages:i})}catch(n){n.response&&404===n.response.status?r([]):alert(n)}finally{M(!1)}}},E=()=>{b(!1)};return(0,z.jsxs)(c.A,{sx:{minWidth:"100%"},children:[o?(0,z.jsx)("h1",{children:"Loading..."}):(0,z.jsx)(l.A,{style:{maxHeight:"350px",overflowY:"auto"},children:(0,z.jsxs)(d.A,{className:"border shadow",children:[(0,z.jsx)(h.A,{sx:{backgroundColor:"#000000"},children:(0,z.jsxs)(g.A,{children:[(0,z.jsx)(f.A,{align:"center",sx:{color:"#ffffff"},children:"ID"}),(0,z.jsx)(f.A,{align:"center",sx:{color:"#ffffff"},children:"Image"}),(0,z.jsx)(f.A,{align:"center",sx:{color:"#ffffff"},children:"Name"}),(0,z.jsx)(f.A,{align:"center",sx:{color:"#ffffff"},children:"Current Price"}),(0,z.jsx)(f.A,{align:"center",sx:{color:"#ffffff"},children:"Preparation Time"}),(0,z.jsx)(f.A,{align:"center",sx:{color:"#ffffff"},children:"Meal Set"}),(0,z.jsx)(f.A,{align:"center",sx:{color:"#ffffff"},children:"Category"}),(0,z.jsx)(f.A,{align:"center",sx:{color:"#ffffff"},children:"Create At"}),(0,z.jsx)(f.A,{align:"center",sx:{color:"#ffffff"},children:"Create By"}),(0,z.jsx)(f.A,{align:"center",sx:{color:"#ffffff"},children:"Update By"}),(0,z.jsx)(f.A,{align:"center",sx:{color:"#ffffff"}})]})}),0===n.length?(0,z.jsx)(x.A,{children:(0,z.jsx)(g.A,{children:(0,z.jsx)(f.A,{colSpan:7,align:"center",style:{fontSize:"14px"},children:"(Have no any record founded!)"})})}):(0,z.jsx)(x.A,{children:n.map(((n,r)=>(0,z.jsxs)(g.A,{children:[(0,z.jsx)(f.A,{align:"center",style:{fontSize:"14px",minWidth:30},children:n.dishId}),(0,z.jsx)(f.A,{align:"center",style:{fontSize:"14px",minWidth:200},children:(0,z.jsx)(m.A,{component:"img",height:"100",src:"data:image/jpeg;base64, ".concat(n.image),alt:n.name,style:{objectFit:"fill"}})}),(0,z.jsx)(f.A,{align:"center",style:{fontSize:"14px",minWidth:200},children:n.name}),(0,z.jsx)(f.A,{align:"center",style:{fontSize:"14px",minWidth:100},children:(0,z.jsxs)("div",{children:[n.discount>0&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)("span",{style:{marginRight:"0.5rem"},children:"(-".concat(n.discount,"%)")}),(0,z.jsx)("del",{style:{marginRight:"0.5rem"},children:"$".concat(n.originalPrice)})]}),(0,z.jsx)("span",{children:"$".concat(n.originalPrice*(1-n.discount/100))})]})}),(0,z.jsxs)(f.A,{align:"center",style:{fontSize:"14px",minWidth:100},children:[n.preparationTime," minutes"]}),(0,z.jsx)(f.A,{align:"center",style:{fontSize:"14px",minWidth:600},children:n.mealSet}),(0,z.jsx)(f.A,{align:"center",style:{fontSize:"14px",minWidth:100},children:n.categoryEnum}),(0,z.jsx)(f.A,{align:"center",style:{fontSize:"14px",minWidth:300},children:s()(n.createdAt).format("MMMM Do YYYY, h:mm:ss a")}),(0,z.jsx)(f.A,{align:"center",style:{fontSize:"14px",minWidth:100},children:n.createdBy}),(0,z.jsx)(f.A,{align:"center",style:{fontSize:"14px",minWidth:100},children:n.updatedBy}),(0,z.jsxs)(f.A,{align:"center",style:{minWidth:430},children:[(0,z.jsxs)(p.A,{variant:"outlined",color:"info",sx:{mx:2},onClick:()=>(async n=>{try{await a.A.put("".concat(S.y,"/dish/restore/").concat(n),{},{headers:{Authorization:"Bearer ".concat(e)}}),Y()}catch(r){console.error("Error when restore:",r)}})(n.dishId),children:[(0,z.jsx)(P.A,{sx:{marginRight:"4px",fontSize:"24px"}}),"Restore"]}),(0,z.jsxs)(p.A,{variant:"contained",color:"error",onClick:()=>{return e=n.dishId,I(e),void b(!0);var e},sx:{mx:2},children:[(0,z.jsx)(C.A,{sx:{marginRight:"4px",fontSize:"24px"}}),"Permanently Delete"]})]})]},n.dishId)))})]})}),(0,z.jsx)(v.A,{pagination:W,handleRowsPerPageChange:(e,n)=>{N({...W,page:1,rowsPerPage:e.target.value})},handlePageChange:(e,n)=>{N({...W,page:n})}}),R&&(0,z.jsxs)(A.A,{open:R,onClose:E,children:[(0,z.jsx)(u.A,{children:"Confirm Delete"}),(0,z.jsx)(j.A,{children:"This action cannot restore! Are you sure want to delete this item?"}),(0,z.jsxs)(y.A,{children:[(0,z.jsx)(p.A,{onClick:()=>{k&&(async n=>{await a.A.delete("".concat(S.y,"/dish/permanently-delete/").concat(n),{headers:{Authorization:"Bearer ".concat(e)}}),Y(),b(!1)})(k)},color:"error",children:"Delete"}),(0,z.jsx)(p.A,{onClick:E,children:"Cancel"})]})]})]})}},74192:(e,n,r)=>{var t=r(24994);n.A=void 0;var a=t(r(40039)),i=r(70579);n.A=(0,a.default)((0,i.jsx)("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"}),"Restore")},63102:(e,n,r)=>{var t=r(24994);n.A=void 0;var a=t(r(40039)),i=r(70579);n.A=(0,a.default)((0,i.jsx)("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning")},36591:(e,n,r)=>{r.d(n,{A:()=>u});var t=r(98587),a=r(58168),i=r(65043),o=r(58387),s=r(68606),c=r(72876),l=r(34535),d=r(57056),h=r(32400);function g(e){return(0,h.Ay)("MuiCardMedia",e)}(0,d.A)("MuiCardMedia",["root","media","img"]);var f=r(70579);const x=["children","className","component","image","src","style"],m=(0,l.Ay)("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:r}=e,{isMediaComponent:t,isImageComponent:a}=r;return[n.root,t&&n.media,a&&n.img]}})((e=>{let{ownerState:n}=e;return(0,a.A)({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},n.isMediaComponent&&{width:"100%"},n.isImageComponent&&{objectFit:"cover"})})),p=["video","audio","picture","iframe","img"],A=["picture","img"],u=i.forwardRef((function(e,n){const r=(0,c.A)({props:e,name:"MuiCardMedia"}),{children:i,className:l,component:d="div",image:h,src:u,style:j}=r,y=(0,t.A)(r,x),v=-1!==p.indexOf(d),C=!v&&h?(0,a.A)({backgroundImage:'url("'.concat(h,'")')},j):j,P=(0,a.A)({},r,{component:d,isMediaComponent:v,isImageComponent:-1!==A.indexOf(d)}),w=(e=>{const{classes:n,isMediaComponent:r,isImageComponent:t}=e,a={root:["root",r&&"media",t&&"img"]};return(0,s.A)(a,g,n)})(P);return(0,f.jsx)(m,(0,a.A)({className:(0,o.A)(w.root,l),as:d,role:!v&&h?"img":void 0,ref:n,style:C,ownerState:P,src:v?h||u:void 0},y,{children:i}))}))}}]);
//# sourceMappingURL=569.588b6ba4.chunk.js.map