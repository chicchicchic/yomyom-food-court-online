"use strict";(self.webpackChunkonline_food_court=self.webpackChunkonline_food_court||[]).push([[346],{60346:(e,a,t)=>{t.r(a),t.d(a,{default:()=>S});var n=t(65043),r=t(73216),s=t(78662),o=t(36546),i=t(24056),l=t(77154),c=t(75800),d=t(70579);const g=e=>{let{handleChangeSelectedStatus:a,selectedStatusDefault:t}=e;const r=(0,s.L4)(),[g,h]=(0,n.useState)([]),[p,u]=(0,n.useState)(t);(0,n.useEffect)((()=>{m()}),[]);const m=async()=>{try{const e=await l.A.get("".concat(c.y,"/order/order-item-status-list"),{headers:{Authorization:"Bearer ".concat(r)}});h(e.data)}catch(e){e.response&&404===e.response.status?h([]):alert(e)}};return(0,d.jsx)(o.A,{variant:"scrollable",scrollButtons:"auto","aria-label":"category tabs",value:p,onChange:(e,t)=>{u(encodeURIComponent(t)),a(encodeURIComponent(t))},style:{background:"#ffffff",borderBottom:"1px solid #b2b2b2",borderRadius:"4px",paddingTop:"3rem"},sx:{"& .MuiTabScrollButton-root":{color:"#000000"},"& .css-ptiqhd-MuiSvgIcon-root":{width:"2rem",height:"2rem"},"& .MuiTabs-indicator":{backgroundColor:"rgb(124, 3, 3)",width:"50px",height:"3px",borderRadius:"10px"}},children:g.map(((e,a)=>(0,d.jsx)(i.A,{sx:{margin:"auto"},label:e.replace(/_/g," "),value:e,style:{color:"#000000",fontSize:"14px"}},a)))})};var h=t(53193),p=t(69285),u=t(37970),m=t(59135),x=t(75151);const f=(0,x.A)({paginationContainer:{marginTop:"2rem",display:"flex",justifyContent:"center",alignItems:"center"},dropdownRowPerPageLabel:{marginRight:"1rem"},dropdownRowPerPage:{marginRight:"3rem"}}),j=e=>{let{pagination:a,handleRowsPerPageChange:t,handlePageChange:n}=e;const r=f();return(0,d.jsxs)("div",{className:r.paginationContainer,children:[(0,d.jsx)(h.A,{className:r.dropdownRowPerPage,children:(0,d.jsxs)(p.A,{labelId:"rows-per-page-label",id:"rows-per-page",value:a.rowsPerPage,onChange:t,children:[(0,d.jsx)(u.A,{value:8,children:"8"}),(0,d.jsx)(u.A,{value:16,children:"16"}),(0,d.jsx)(u.A,{value:24,children:"24"})]})}),(0,d.jsx)(m.A,{count:a.totalPages,page:a.page,onChange:n,variant:"outlined",shape:"rounded"})]})};var P=t(68903),w=t(12110),b=t(36591),y=t(26494),A=t(85865),v=t(37948);const C=(0,x.A)({root:{flexGrow:1,marginLeft:"auto","@media (min-width: 376px)":{padding:"1rem"}},filterContainer:{position:"fixed",top:"9.5rem",left:0,width:"100%",zIndex:999,paddingTop:"0"}});const S=function(){const e=C(),a=(0,r.zy)(),{userId:t,orderStatus:o}=a.state||{},i=(0,s.L4)(),[h,p]=(0,n.useState)([]),[u,m]=(0,n.useState)(!1),[x,f]=(0,n.useState)({page:1,rowsPerPage:8,totalPages:1}),[S,R]=(0,n.useState)(o||"COMPLETED"),{page:I,rowsPerPage:T}=x;(0,n.useEffect)((()=>{k()}),[I,T,S]);const k=async()=>{if(!u){m(!0);try{const e={userId:t,status:S||o,pageNumber:x.page-1,pageSize:x.rowsPerPage},a=await l.A.get("".concat(c.y,"/order/detail-order-tracking"),{params:e,headers:{Authorization:"Bearer ".concat(i)}});console.log(a),p(a.data.content);const n=a.data.totalElements,r=Math.ceil(n/x.rowsPerPage);f({...x,totalPages:r})}catch(e){e.response&&404===e.response.status?p([]):alert(e)}finally{m(!1)}}};return(0,d.jsxs)("div",{className:e.root,children:[(0,d.jsx)("div",{className:e.filterContainer,children:(0,d.jsx)(g,{handleChangeSelectedStatus:e=>{f({...x,page:1}),R(e)},selectedStatusDefault:o})}),(0,d.jsx)("div",{children:u?(0,d.jsx)("h2",{style:{marginTop:"3rem"},children:"Loading..."}):h.length<=0?(0,d.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginTop:"5rem"},children:[(0,d.jsx)(v.A,{fontSize:"large",style:{marginRight:"10px"}}),(0,d.jsx)("h3",{children:"Have no any items in this status"})]}):(0,d.jsx)(P.Ay,{container:!0,spacing:2,children:h.map((e=>(0,d.jsx)(P.Ay,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,d.jsxs)(w.A,{children:[(0,d.jsx)(b.A,{component:"img",height:"140",image:"data:image/jpeg;base64, ".concat(e.image),alt:e.name}),(0,d.jsxs)(y.A,{children:[(0,d.jsx)(A.A,{gutterBottom:!0,variant:"h5",component:"h2",children:e.name}),(0,d.jsxs)(A.A,{variant:"body2",color:"textSecondary",component:"p",children:["Price:"," ",(0,d.jsxs)("b",{children:[e.discount>0&&(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("del",{style:{marginRight:"0.5rem"},children:"$".concat(e.originalPrice)})}),(0,d.jsx)("span",{children:"$".concat((e.originalPrice*(1-e.discount/100)).toFixed(2))})]})]})]})]})},e.dishId)))})}),h.length>0&&(0,d.jsx)(j,{pagination:x,handleRowsPerPageChange:(e,a)=>{f({...x,page:1,rowsPerPage:e.target.value})},handlePageChange:(e,a)=>{f({...x,page:a})}})]})}}}]);
//# sourceMappingURL=346.690fd558.chunk.js.map