"use strict";(self.webpackChunkonline_food_court=self.webpackChunkonline_food_court||[]).push([[281],{88946:(e,n,r)=>{r.d(n,{A:()=>d});r(65043);var a=r(53193),t=r(69285),s=r(37970),o=r(59135),i=r(75151),l=r(70579);const c=(0,i.A)({paginationContainer:{marginTop:"2rem",display:"flex",justifyContent:"center",alignItems:"center"},dropdownRowPerPageLabel:{marginRight:"1rem"},dropdownRowPerPage:{marginRight:"3rem"}}),d=e=>{let{pagination:n,handleRowsPerPageChange:r,handlePageChange:i}=e;const d=c();return(0,l.jsxs)("div",{className:d.paginationContainer,children:[(0,l.jsx)(a.A,{className:d.dropdownRowPerPage,children:(0,l.jsxs)(t.A,{labelId:"rows-per-page-label",id:"rows-per-page",value:n.rowsPerPage,onChange:r,children:[(0,l.jsx)(s.A,{value:5,children:"5"}),(0,l.jsx)(s.A,{value:10,children:"10"}),(0,l.jsx)(s.A,{value:20,children:"20"})]})}),(0,l.jsx)(o.A,{count:n.totalPages,page:n.page,onChange:i,variant:"outlined",shape:"rounded"})]})}},30281:(e,n,r)=>{r.r(n),r.d(n,{default:()=>S});var a=r(65043),t=r(77154),s=r(73216),o=r(86178),i=r.n(o),l=r(19252),c=r(79650),d=r(71806),h=r(84882),f=r(28076),x=r(10039),g=r(73460),A=r(11906),p=r(90035),j=r(26600),u=r(35316),m=r(29347),y=r(88946),P=r(63102),w=r(74192),v=r(78662),C=r(75800),z=r(70579);const S=function(){const e=(0,v.L4)(),[n,r]=(0,a.useState)([]),[o,S]=(0,a.useState)(!1),[R,W]=(0,a.useState)(!1),[M,k]=(0,a.useState)(null),[B,Y]=(0,a.useState)({page:1,rowsPerPage:5,totalPages:1}),{id:b}=(0,s.g)(),{page:D,rowsPerPage:I}=B;(0,a.useEffect)((()=>{N()}),[D,I]);const N=async()=>{if(!o){S(!0);try{const n=await t.A.get("".concat(C.y,"/user/trash?pageNumber=").concat(B.page-1,"&pageSize=").concat(B.rowsPerPage),{headers:{Authorization:"Bearer ".concat(e)}});console.log(n),r(n.data.content);const a=n.data.totalElements;console.log(a);const s=Math.ceil(a/B.rowsPerPage);Y({...B,totalPages:s})}catch(n){n.response&&404===n.response.status?r([]):alert(n)}finally{S(!1)}}},E=()=>{W(!1)};return(0,z.jsxs)(l.A,{sx:{minWidth:"100%"},children:[o?(0,z.jsx)("h1",{children:"Loading..."}):(0,z.jsx)(c.A,{style:{maxHeight:"350px",overflowY:"auto"},children:(0,z.jsxs)(d.A,{className:"border shadow",children:[(0,z.jsx)(h.A,{sx:{backgroundColor:"#000000"},children:(0,z.jsxs)(f.A,{children:[(0,z.jsx)(x.A,{align:"center",sx:{color:"#ffffff"},children:"ID"}),(0,z.jsx)(x.A,{align:"center",sx:{color:"#ffffff"},children:"Name"}),(0,z.jsx)(x.A,{align:"center",sx:{color:"#ffffff"},children:"Role"}),(0,z.jsx)(x.A,{align:"center",sx:{color:"#ffffff"},children:"Email"}),(0,z.jsx)(x.A,{align:"center",sx:{color:"#ffffff"},children:"Phone"}),(0,z.jsx)(x.A,{align:"center",sx:{color:"#ffffff"},children:"Date Of Birth"}),(0,z.jsx)(x.A,{align:"center",sx:{color:"#ffffff"},children:"Create At"}),(0,z.jsx)(x.A,{align:"center",sx:{color:"#ffffff"},children:"Create By"}),(0,z.jsx)(x.A,{align:"center",sx:{color:"#ffffff"},children:"Update By"}),(0,z.jsx)(x.A,{align:"center",sx:{color:"#ffffff"}})]})}),0===n.length?(0,z.jsx)(g.A,{children:(0,z.jsx)(f.A,{children:(0,z.jsx)(x.A,{colSpan:7,align:"center",style:{fontSize:"14px"},children:"(Have no any record founded!)"})})}):(0,z.jsx)(g.A,{children:n.map(((n,r)=>(0,z.jsxs)(f.A,{children:[(0,z.jsx)(x.A,{align:"center",style:{fontSize:"14px",minWidth:30},children:n.userId}),(0,z.jsx)(x.A,{align:"center",style:{fontSize:"14px",minWidth:200},children:"".concat(n.firstName," ").concat(n.lastName)}),(0,z.jsx)(x.A,{align:"center",style:{fontSize:"14px",minWidth:30},children:n.roleEnum}),(0,z.jsx)(x.A,{align:"center",style:{fontSize:"14px",minWidth:30},children:n.email}),(0,z.jsx)(x.A,{align:"center",style:{fontSize:"14px",minWidth:30},children:n.phone}),(0,z.jsx)(x.A,{align:"center",style:{fontSize:"14px",minWidth:300},children:i()(n.dateOfBirth).format("MMMM Do YYYY, h:mm:ss a")}),(0,z.jsx)(x.A,{align:"center",style:{fontSize:"14px",minWidth:300},children:i()(n.createdAt).format("MMMM Do YYYY, h:mm:ss a")}),(0,z.jsx)(x.A,{align:"center",style:{fontSize:"14px",minWidth:100},children:n.createdBy}),(0,z.jsx)(x.A,{align:"center",style:{fontSize:"14px",minWidth:100},children:n.updatedBy}),(0,z.jsxs)(x.A,{align:"center",style:{minWidth:430},children:[(0,z.jsxs)(A.A,{variant:"outlined",color:"info",sx:{mx:2},onClick:()=>(async n=>{try{await t.A.put("".concat(C.y,"/user/restore/").concat(n),{},{headers:{Authorization:"Bearer ".concat(e)}}),N()}catch(r){console.error("Error when restore:",r)}})(n.userId),children:[(0,z.jsx)(w.A,{sx:{marginRight:"4px",fontSize:"24px"}}),"Restore"]}),(0,z.jsxs)(A.A,{variant:"contained",color:"error",onClick:()=>{return e=n.userId,k(e),void W(!0);var e},sx:{mx:2},children:[(0,z.jsx)(P.A,{sx:{marginRight:"4px",fontSize:"24px"}}),"Permanently Delete"]})]})]},n.userId)))})]})}),(0,z.jsx)(y.A,{pagination:B,handleRowsPerPageChange:(e,n)=>{Y({...B,page:1,rowsPerPage:e.target.value})},handlePageChange:(e,n)=>{Y({...B,page:n})}}),R&&(0,z.jsxs)(p.A,{open:R,onClose:E,children:[(0,z.jsx)(j.A,{children:"Confirm Delete"}),(0,z.jsx)(u.A,{children:"This action cannot restore! Are you sure want to delete this user?"}),(0,z.jsxs)(m.A,{children:[(0,z.jsx)(A.A,{onClick:()=>{M&&(async n=>{await t.A.delete("".concat(C.y,"/user/permanently-delete/").concat(n),{headers:{Authorization:"Bearer ".concat(e)}}),N(),W(!1)})(M)},color:"error",children:"Delete"}),(0,z.jsx)(A.A,{onClick:E,children:"Cancel"})]})]})]})}},74192:(e,n,r)=>{var a=r(24994);n.A=void 0;var t=a(r(40039)),s=r(70579);n.A=(0,t.default)((0,s.jsx)("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"}),"Restore")},63102:(e,n,r)=>{var a=r(24994);n.A=void 0;var t=a(r(40039)),s=r(70579);n.A=(0,t.default)((0,s.jsx)("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning")}}]);
//# sourceMappingURL=281.2d763599.chunk.js.map